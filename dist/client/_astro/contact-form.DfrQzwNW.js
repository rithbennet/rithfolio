import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.C276o7ip.js";import{C as f,a as g,B as h}from"./card.mEkj0XS5.js";function S(){const[t,m]=a.useState({name:"",email:"",subject:"",message:""}),[l,d]=a.useState(!1),[b,i]=a.useState(!1),[u,c]=a.useState(null),r=n=>{const{name:s,value:o}=n.target;m(p=>({...p,[s]:o}))},x=async n=>{n.preventDefault(),d(!0),c(null);try{const s=await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await s.json();if(!s.ok)throw new Error(o.error||"Failed to send message");i(!0),m({name:"",email:"",subject:"",message:""}),setTimeout(()=>i(!1),5e3)}catch(s){console.error("Error sending message:",s),c(typeof s=="object"&&s!==null&&"message"in s?s.message:"An unexpected error occurred")}finally{d(!1)}};return e.jsx(f,{children:e.jsx(g,{className:"p-4 sm:p-6",children:b?e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[e.jsx("h3",{className:"mb-2 text-lg font-medium",children:"Thank you for your message!"}),e.jsx("p",{className:"text-muted-foreground",children:"I'll get back to you as soon as possible."})]}):e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[u&&e.jsx("div",{className:"rounded-md bg-red-50 p-4 text-sm text-red-700 dark:bg-red-900/50 dark:text-red-200",children:u}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"mb-1 block text-sm font-medium",children:"Name"}),e.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:r,required:!0,className:"border-input bg-background focus:border-primary w-full rounded-md border px-3 py-2 text-sm focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"mb-1 block text-sm font-medium",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:r,required:!0,className:"border-input bg-background focus:border-primary w-full rounded-md border px-3 py-2 text-sm focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"mb-1 block text-sm font-medium",children:"Subject"}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:t.subject,onChange:r,required:!0,className:"border-input bg-background focus:border-primary w-full rounded-md border px-3 py-2 text-sm focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"mb-1 block text-sm font-medium",children:"Message"}),e.jsx("textarea",{id:"message",name:"message",rows:5,value:t.message,onChange:r,required:!0,className:"border-input bg-background focus:border-primary w-full rounded-md border px-3 py-2 text-sm focus:outline-none"})]}),e.jsx(h,{type:"submit",disabled:l,className:"w-full",children:l?"Sending...":"Send Message"})]})})})}export{S as ContactForm};
